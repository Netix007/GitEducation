# Работа с Git

## Проверка наличия установленного Git

В терминале выполнить команду ```git --version```

Если Git установлен, появится сообщение о версии программы. Иначе будет сообщение об ошибке.

## Установка Git

[Загружаем последнюю версию с сайта "https://git-scm.com/downloads"](https://git-scm.com/downloads)

Устанавливаем с настройками по умолчанию.

## Настройка Git

При первом использовании Git необходимо представиться и указать имя и электронную почту, которыми будут подписаны коммиты. Для этого необходимо выполнить команды:
* git config --global user.name "Your Name"
* git config --global user.email "e@w.com"

Для упрощения работы в Git возможно использования псевдонимов команд. Для настройки необходимо выполнить команду: __*git config --global alias.<псевдоним_команды> <название_команды>*__. Например, после выполнения команды __*git config --global alias.co checkout*__ станет возможным исполнять команду __*git checkout*__, вводя в терпинале __*git co*__.
## Основы работы с Git

Для начала работы необходимо создать репозиторий, воспользовавшись командой __*git init*__. После выполнения команды в рабочей папке появится скрытая папка .git, необходимая Git для работы.

Далее необходимо указать Git-у файлы, изменения которых необходимо отслеживать, для этого требуется выполнить команду __*git add <имя.расширение файла>*__. Также команду __*git add*__ необходимо выполнять для указания файла, который необходимо добавить в текущее сохранение непосредственно перед сохранением.

Для просмотра текущего состояния репозитория используется команда __*git status*__. После ее выполнения будет выведена информация о текущем состоянии (наличии в рабочей папке неотслеживаемых файлов, наличии изменений в отслеживаемых файлах, наличии файлов подготовленных для коммитов).

В случае наличия файлов, готовых для сохранения, для их сохранения необходимо выполнить команду __*git commit -m "Комментарии к сохранению"*__. Флаг *-m*, при изпользовании команды __*git commit*__, позволяет добавить комментарий к нашему сохранению. При использовании флага *-am* можно не выполнять команду __*git add*__ перед сохранением коммита, в данном случае в коммит добавятся все файлы с изменениями находящиеся в репозитории и добавленные в отслеживаемые.
 Для изменения комментария к последнему коммиту используется команда __*git commit --amend -m "Новое название коммита"*__.

 Для отображения всех имеющихся версий сохранений используется команда __*git log*__. После выполнения команды на экран выводится информация о всех доступных сохранениях, имена коммитов и комментарии к ним. Для отображения информации в одну строчку используется команда __*git log --oneline*__. Для визуализации дерева коммитов используется команда __*git log --graph*__. В случае много строчного вывода для выхода необходимо нажать кнопку *"q"*.

 Для переключения между сохранениями используется команда __*git checkout <<имя сохранения>>*__. Имя сохранения можно не вводить целиком - достаточно первых 4 символов.
Для возврата к актуальной версии необходимо выполнить команду __*git checkout master*__, где *master* название ветви в которой проходит работа.

Для просмотра разницы между текущим состоянием и тем, которое уже сохранено используется команда __*git diff*__.

Для просмотра информации о перемещении метки *HEAD* необходимо выполнить команду __*git reflog*__.
## Игнорирование файлов (папок)
Игнорирование файлов рассмотрим на примере файла с изображением.
![Логотип Git](logo@2x.png)

Для игнорирования файлов необходимо создать в папке с репозиторием специальный файл *.gitignore* и добавить в него файл, который не нужно отслеживать. Можно добавлять несколько файлов, перечисляя их или указать сразу несколько файлов одного типа (Например так _*.png_ - в данном случае будут игнорироваться все файлы с расширением _png_). Также возможно указать в этом файле папку, в данном случае файлы помещенные в нее также будут игнорироваться Git.
## Создание веток в Git
Ветка в Git - это простой перемещаемый указатель на один из коммитов, обычно последний в цепочке коммитов. По умолчанию, имя основной ветки в Git - master.
 
Для создания веток используется команда __*git branch <имя_ветки>*__. Например __*git branch Ignore*__ - после выполнения команды будет создана ветка Ignore.
Также для создания веток можно воспользоваться командой __*git checkout -b <имя_ветки>*__. Например __*git checkout -b Ignore*__ - после выполнения команды выполнения команды будет создана новая ветка Ignore и будет осуществлен переход в нее. В более поздних версиях возможно создание веток с использованием команды __*git switch -c <имя_ветки>*__. Например __*git switch -c Ignore*__ - после выполнения команды также будет создана новая ветка и осуществлен переход в нее. Для создания ветки от определенного коммита используется команда __*git branch <имя_ветки> <имя_коммита>*__. Например __*git branch Temp 5f7b5*__ - после выполнения команды от коммита с именем, начинающимся на *5f7b5*, будет создана ветка *Temp*, при этом указанный коммит будет являться начальной точкой этой ветки.
## Слияние веток
Для слияния веток используется команда __*git merge <имя_ветки>*__. Например __*git merge Ignore*__ - после выполнения команды в текущую ветку будет добавлена инфомация из ветки *Ignore*. 
## Разрешение конфликтов
При возникновении конфликтов при слиянии веток для их решения можно выбрать следующие варианты: сохранить текущие изменения, сохранить изменения из ветки, с которой производится слияние или сохранить оба варианта. Например __*git merge Ignore*__ - после выполнения команда информация из ветки Ignore будет добавлена в текущую ветку, далее при возникновении конфликта необходимо выбрать один из предложенных вариантов и сохранить изменения, добавив коммит.
## Удаление веток
Для удаления ветки используется команда __*git branch -d <имя_ветки>*__. Например __*git branch -d Ignore*__ - после выполнения команды ветка *Ignore* будет удалена.

В результате выполнения команды возможны ошибки:

1. *"error: Cannot delete branch '<имя_ветки>' checked out at '<путь_к_папке_с_репозиторием>'"* - данная ошибка возникает если попытаться удалить текущую ветку, для удаления текущей ветки необходимо перейти в любую другую ветку и выполнить команду для удаления ветки повторно.

2. *"error: The branch ’<имя_ветки>’ is not fully merged. If you are sure you want to delete it, run 'git branch -D <имя_ветки>'"* - данная ошибка возникает если попытаться удалить ветку, которая была не полностью слита с другой веткой, в случае если все-таки необходимо удалить данную ветку, необходимо выполнить команду *'git branch -D <имя_ветки>"'*.
## Работа с удаленным репозиторием при помощи сервиса GitHub 
**GitHub** — крупнейший веб-сервис для хостинга IT-проектов и их совместной разработки.

Для начала работы с сервисом **GitHub** необходимо зарегистрировать аккаунт (просматривать чужие проекты возможно без регистрации).

Для копирования репозитория необходимо воспользоваться командой _**git clone <адрес_репозитория_на_сервисе_GitHub>**_ - после выполнения команды репозиторий будет скопирован в выбранную папку на ПК.

Для добавления локального репозитория на сервис GitHub необходимо:
1. Создать репозиторий на GitHub
2. Выполнить следующие команды Git в папке на ПК
```
git remote add origin <адрес_репозитория_в_сервисе_GitHub>
git branch -M main
git push -u origin main
```
При первом связывании локального Git с сервисом GitHub необходимо выполнить авторизацию.

Для последующего внесения изменений из локального репозитория в репозиторий на GitHub выполняется команда _**git push**_.
Для последующей загрузки изменений из актуальной версии репозитория с GitHub на локальный ПК выполняется команда _**git pull**_. Данная команда является составной командой, после ее выполнения не только будет произведена загрузка всех изменений с репозитория на GitHub, но и осуществлено слияние веток, возможно возникновение конфликтов.

Для работы с чужими проектами (отправки pull request) необходимо:
1. Необходимо создать свою копию репозитория с помощью кнопки **"Fork"**, которая находится на странице проекта на сервисе GitHub.
2. Скопировать свою копию на локальный ПК, воспользовавшись командой _**git clone <адрес_репозитория_на_сервисе_GitHub>**_.
3. Создать новую ветку в локальном репозитории, в которую будут вноситься все изменения в проекте.
4. После внесения изменений в локальном репозитории, необходимо выполнить его закачку на сервис GitHub, с помощью команды _**git push --set-upstream origin <имя_ветки>**_.
5. Далее необходимо нажать на кнопку **Compare & request**, которая появится на странице вашей копии проекта на сервисе GitHub, и подготовить и отправить pull request. 

